var H=Object.defineProperty,k=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var L=(t,e,r)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x=(t,e)=>{for(var r in e||(e={}))q.call(e,r)&&L(t,r,e[r]);if(B)for(var r of B(e))K.call(e,r)&&L(t,r,e[r]);return t},b=(t,e)=>k(t,U(e));import{j as O,r as u,R as V,a as Y}from"./vendor.6a84b556.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};J();const n=O.exports.jsx,i=O.exports.jsxs,G=O.exports.Fragment,M=u.exports.createContext({});function Q({children:t}){const[e,r]=u.exports.useState(!1);return n(M.Provider,{value:{isOpen:e,setIsOpen:r},children:t})}const h={CREATE:"transactions/create",COMPUTE_BALANCE:"transactions/compute_balance"},X=(t,e)=>{switch(e.type){case h.CREATE:return b(x({},t),{transactions:[...t.transactions,e.payload]});case h.COMPUTE_BALANCE:return b(x({},t),{currentBalance:e.payload});default:return t}},P=u.exports.createContext({});function Z({children:t}){const[e,r]=u.exports.useReducer(X,{transactions:[],currentBalance:0});return n(P.Provider,{value:{state:e,dispatch:r},children:t})}function v(){const{isOpen:t,setIsOpen:e}=u.exports.useContext(M);return{isOpen:t,handlers:{open:()=>e(!0),close:()=>e(!1)}}}const ee="_button_g5a2v_1",te="_primary_g5a2v_14",ne="_secondary_g5a2v_21";var N={button:ee,primary:te,secondary:ne};function E({children:t,handleClick:e,primary:r,secondary:s}){return n("button",{onClick:e,className:`
        ${N.button}
        ${r&&N.primary} 
        ${s&&N.secondary}
      `,children:t})}const re="_modal_14bth_1",ae="_buttonWrapper_14bth_12";var I={modal:re,buttonWrapper:ae};function se({children:t}){const{handlers:e}=v();return i("div",{className:I.modal,children:[n("div",{className:I.buttonWrapper,children:n(E,{secondary:!0,handleClick:e.close,children:"Cerrar"})}),n(G,{children:t})]})}function S(){const{state:t,dispatch:e}=u.exports.useContext(P);return{getCurrentBalance:()=>parseFloat(t.currentBalance).toFixed(2),getTransactions:()=>t.transactions,createTransaction:({title:c,description:d,amount:y,type:_})=>{e({type:h.CREATE,payload:{id:c,title:c,description:d,amount:y,type:_,date:new Date().toLocaleDateString()}})},computeBalance:(c,d)=>{c==="Ingreso"&&e({type:h.COMPUTE_BALANCE,payload:Number(t.currentBalance)+Number(d)}),c==="Gasto"&&e({type:h.COMPUTE_BALANCE,payload:Number(t.currentBalance)-Number(d)})}}}const oe="_div_14s1z_1",ce="_label_14s1z_6",ie="_input_14s1z_10";var g={div:oe,label:ce,input:ie};function T({label:t,type:e,name:r,placeholder:s,onChange:a,value:o}){return i("div",{className:g.div,children:[n("label",{className:g.label,children:t}),n("input",{autoComplete:"off",className:g.input,inputMode:"numeric",min:"0",name:r,onChange:a,placeholder:s,step:"0.01",type:e,value:o})]})}const le="_select_125mk_1";var ue={select:le};function de({value:t,onChange:e,options:r}){return n("select",{value:t,className:ue.select,onChange:e,children:r.map(({optionValue:s,text:a})=>n("option",{value:s,children:a},s))})}const A={INGRESO:"Ingreso",GASTO:"Gasto"},pe=[{optionValue:A.INGRESO,text:"Ingreso"},{optionValue:A.GASTO,text:"Gasto"}],me="_wrapper_9hctz_1",_e="_header_9hctz_10",he="_subtitle_9hctz_15",ve="_form_9hctz_21",fe="_amountGroup_9hctz_26",ye="_error_9hctz_33";var m={wrapper:me,header:_e,subtitle:he,form:ve,amountGroup:fe,error:ye};function xe(){const{handlers:t}=v(),{createTransaction:e,computeBalance:r}=S(),[s,a]=u.exports.useState(""),[o,c]=u.exports.useState(""),[d,y]=u.exports.useState(""),[_,F]=u.exports.useState(A.INGRESO),j=l=>{if(Object.values(l).some(f=>f===""))return W(!0),!0},[z,W]=u.exports.useState(!1),w=l=>{l.preventDefault();const f={title:s,description:o,amount:d,type:_};j(f)||(e(f),r(_,d),t.close())};return i("div",{className:m.wrapper,children:[i("header",{className:m.header,children:[n("h3",{children:"Nueva transacci\xF3n"}),n("h5",{className:m.subtitle,children:"A\xF1ade un nuevo registro a tu billetera"})]}),i("form",{className:m.form,onSubmit:w,children:[n(T,{label:"T\xEDtulo",name:"title",onChange:l=>a(l.target.value),placeholder:"Ida a la tienda",type:"text",value:s}),n(T,{label:"Descripci\xF3n",name:"description",onChange:l=>c(l.target.value),placeholder:"Snacks y Coca-Cola",type:"text",value:o}),i("div",{className:m.amountGroup,children:[n(T,{label:"Monto",name:"amount",onChange:l=>y(l.target.value),placeholder:"$10.00",type:"number",value:d}),n(de,{onChange:l=>F(l.target.value),options:pe,value:_})]}),n(E,{primary:!0,children:"Registrar"}),z&&n("small",{className:m.error,children:"Todos los campos son requeridos!!!"})]})]})}const be="_boxLayout_r6tgd_1";var R={boxLayout:be};function Ne({children:t}){const{isOpen:e}=v();return i(G,{children:[n("div",{className:`${R.boxLayout} ${e&&R.modalActive}`,children:t}),e&&n(se,{children:n(xe,{})})]})}const ge="_app_ytjvj_1";var D={app:ge};function Te({children:t}){const{active:e}=v();return n("div",{className:`${D.app} ${e&&D.modalActive}`,children:t})}const Ce="_header_1i3sp_1",$e="_title_1i3sp_9",Ae="_currentBalance_1i3sp_12";var C={header:Ce,title:$e,currentBalance:Ae};function Oe(){const{getCurrentBalance:t}=S();return i("header",{className:C.header,children:[n("span",{className:C.currentBalance,children:"Mi balance"}),n("h3",{className:C.title,children:i("span",{children:["$",t()]})})]})}const Ee="_item_vvx6f_1",Se="_itemHeader_vvx6f_9",Be="_itemTitle_vvx6f_12",Le="_itemDescription_vvx6f_15",Ie="_itemDate_vvx6f_19",Re="_amount_vvx6f_25",De="_Gasto_vvx6f_29",Ge="_Ingreso_vvx6f_32";var p={item:Ee,itemHeader:Se,itemTitle:Be,itemDescription:Le,itemDate:Ie,amount:Re,Gasto:De,Ingreso:Ge};function Me({title:t,description:e,amount:r,type:s,date:a}){return i("li",{className:p.item,children:[n("header",{className:p.itemHeader,children:n("h5",{className:p.itemTitle,children:t})}),n("div",{className:`${p.amount} ${p[s]}`,children:s==="Gasto"?`- $${r}`:`+ $${r}`}),n("div",{className:p.itemDescription,children:n("p",{children:e})}),n("span",{className:p.itemDate,children:a})]})}const Pe="_transactionsList_n4u98_1";var Fe={transactionsList:Pe};function je(){const{getTransactions:t}=S();return n("ul",{className:Fe.transactionsList,children:t().map(({id:e,title:r,description:s,amount:a,type:o,date:c})=>n(Me,{title:r,description:s,amount:parseFloat(a).toFixed(2),type:o,date:c},e))})}const ze="_section_1gn9b_1",We="_header_1gn9b_8",we="_buttonWrapper_1gn9b_15";var $={section:ze,header:We,buttonWrapper:we};function He(){const{handlers:t}=v();return i("section",{className:$.section,children:[n("header",{className:$.header,children:n("h4",{children:"Historial"})}),n("div",{className:$.buttonWrapper,children:n(E,{handleClick:t.open,primary:!0,children:"Registrar"})}),n(je,{})]})}function ke(){return n(Z,{children:n(Q,{children:n(Te,{children:i(Ne,{children:[n(Oe,{}),n(He,{})]})})})})}V.render(n(Y.StrictMode,{children:n(ke,{})}),document.getElementById("root"));
